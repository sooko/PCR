<BtnGrid@Button>:
    alpa:.1
    canvas.before:
        Color:
            rgba:0,1,1,root.alpa
        Rectangle:
            size:self.size
            pos:self.pos
    background_color:1,1,1,0
    text:"1"
    font_size:self.height/2
    color:0,0,0,1
    on_press:self.alpa=1

<BtnGridL@Button>:
    alpa:.1
    canvas.before:
        Color:
            rgba:0,1,1,root.alpa
        Rectangle:
            size:self.size
            pos:self.pos
    background_color:1,1,1,0
    text:"1"
    font_size:self.height/2
    color:0,0,0,1
    # on_press:self.alpa=1

<SldVer@Slider>:
    orientation:"vertical"
    cursor_image:"img/white.png"
    background_vertical:"img/white.png"
    canvas.before:
        Color:
            rgba:0,0,0,.2
        Rectangle:
            size:self.size
            pos:self.pos
        Color:
            rgba:0,1,1,.8
        Rectangle:
            size:self.size[0],self.size[1]/self.max*self.value
            pos:self.pos
<BoxProtokol@BoxVer>:
    canvas.before:
        Color:
            rgba:1,1,1,.3
        RoundedRectangle:
            size:self.size
            pos:self.pos
    name:"RT"
    unit1:"celcius"
    unit2:"menit"
    value1:0
    value2:0 
    max1:100
    max2:60
    BoxLayout
        FloatLayout
            BoxVer
                spacing:dp(2)
                pos_hint:{"center_x":.5,"y":0}
                size_hint:.75,.925
                SldVer:
                    max:root.max1
                    value:root.value1
                    on_value:root.value1=self.value
                BoxVer
                    size_hint:1,.1
                    
                    Label
                        text:"{:.0f}".format(root.value1)
                        font_size:self.height/1.2
                        color:1,1,0,1
                        bold:True

                    Label
                        text:root.unit1
                        font_size:self.height/1.2
                        color:1,1,0,1
                        bold:True

        FloatLayout
            BoxVer
                spacing:dp(2)
                pos_hint:{"center_x":.5,"y":0}
                size_hint:.75,.925
                SldVer
                    max:root.max2
                    value:root.value2
                    on_value:root.value2=self.value
                BoxVer
                    size_hint:1,.1
                    Label
                        text:"{:.0f}".format(root.value2)
                        font_size:self.height/1.2
                        color:1,1,0,1
                        bold:True

                    Label
                        text:root.unit2
                        font_size:self.height/1.2
                        color:1,1,0,1
                        bold:True


                    
    Label:
        text:root.name
        size_hint:1,.075
        color:1,1,0,1
        bold:True
        font_size:self.height/2
<BoxCycles@BoxVer>:
    canvas.before:
        Color:
            rgba:1,1,1,.3
        RoundedRectangle:
            size:self.size
            pos:self.pos
    name:"CYCLES"
    unit1:"times"
    unit2:"menit"
    value1:0
    value2:0 
    max1:60
    max2:60
    FloatLayout
        BoxVer
            spacing:dp(2)
            pos_hint:{"center_x":.5,"y":0}
            size_hint:.75,.925
            SldVer:
                max:root.max1
                value:root.value1
                on_value:root.value1=self.value
            BoxVer
                size_hint:1,.1
                Label
                    text:"{:.0f}".format(root.value1)
                    font_size:self.height/1.2
                    color:1,1,0,1
                    bold:True
                Label
                    text:root.unit1
                    font_size:self.height/1.2
                    color:1,1,0,1
                    bold:True
    Label:
        text:root.name
        size_hint:1,.075
        color:1,1,0,1
        bold:True
        font_size:self.height/2

<Sc1>:
    size_hint:.95,1
    pos_hint:{"center_x":.5,"center_y":.5}
    BoxVer:
        spacing:5
        padding:0,0,0,dp(5)
        ScreenTittle:
            text:"SET PROTOKOL"
        FloatLayout
            canvas:
                Color:
                    rgba:0,0,0,1
                Line:

                    rectangle:(self.x,self.y,self.width,self.height)
            BoxLayout
                pos_hint:{"center_x":.5,"center_y":.5}
                spacing:dp(5)
                size_hint:None,None
                width:self.parent.width-dp(30)
                height:self.parent.height-dp(30)
                BoxProtokol
                    name:"RT"
                    value1:root.param[0]
                    value2:root.param[1]
                    on_value1:root.param[0]=int(self.value1)
                    on_value2:root.param[1]=int(self.value2)
                BoxProtokol
                    name:"DENAT"
                    value1:root.param[2]
                    value2:root.param[3]
                    on_value1:root.param[2]=int(self.value1)
                    on_value2:root.param[3]=int(self.value2)
                BoxProtokol
                    name:"PREDENAT"
                    value1:root.param[4]
                    value2:root.param[5]
                    on_value1:root.param[4]=int(self.value1)
                    on_value2:root.param[5]=int(self.value2)
                BoxProtokol
                    name:"ANNEAL"
                    value1:root.param[6]
                    value2:root.param[7]
                    on_value1:root.param[6]=int(self.value1)
                    on_value2:root.param[7]=int(self.value2)
                BoxCycles
                    size_hint:.5,1
                    value1:root.param[8]
                    on_value1:root.param[8]=int(self.value1)
        BoxLayout
            size_hint:1,.1
            spacing:dp(25)
            BtnLg
                text:"SAVE"
                on_press:pop_save.ilang=.5
                
            BtnLg
                text:"LOAD"
                on_press:pop_load.ilang=.5
            Label
            
            BtnLg
                text:"SET"
                on_press:root.dispatch("on_set")
    


    FloatLayout:
        ilang:10
        id:pop_save
        pos_hint:{"center_x":.5,"center_y":self.ilang}

        Button
            background_color:0,0,0,.9
            pos_hint:{"center_x":.5,"center_y":.5}
            on_press:self.parent.ilang=10
        BoxVer:
            canvas:
                Color:
                    rgba:0,0,1,1
                Rectangle:
                    size:self.size
                    pos:self.pos
            size_hint:.5,.5
            pos_hint:{"center_x":.5,"center_y":.5}
            Button:
                background_color:0,0,0,0
                text:"SAVE PROTOKOL"
                bold:True
                color:0,0,0,1
                font_size:self.height/1.5
                size_hint:1,.2
            GridLayout
                id:gridsave
                spacing:dp(2)
                padding:dp(5)
                cols:3
                BtnGrid
                    id:slot1
                    text:"1"
                    on_release:
                        root.save(self.text)
                        pop_save.ilang=10
                BtnGrid
                    id:slot2
                    text:"2"
                    on_release:
                        root.save(self.text)
                        pop_save.ilang=10
                BtnGrid
                    text:"3"
                    id:slot3
                    on_release:
                        root.save(self.text)
                        pop_save.ilang=10
                BtnGrid
                    text:"4"
                    id:slot4
                    on_release:
                        root.save(self.text)
                        pop_save.ilang=10
                BtnGrid
                    text:"5"
                    id:slot5
                    on_release:
                        root.save(self.text)
                        pop_save.ilang=10
                BtnGrid
                    id:slot6
                    text:"6"
                    on_release:
                        root.save(self.text)
                        pop_save.ilang=10

    FloatLayout:
        ilang:10
        id:pop_load
        pos_hint:{"center_x":.5,"center_y":self.ilang}
        Button
            background_color:0,0,0,.9
            pos_hint:{"center_x":.5,"center_y":.5}
            on_press:self.parent.ilang=10
        BoxVer:
            canvas:
                Color:
                    rgba:0,0,1,1
                Rectangle:
                    size:self.size
                    pos:self.pos
            size_hint:.5,.5
            pos_hint:{"center_x":.5,"center_y":.5}
            Button:
                background_color:0,0,0,0
                text:"LOAD PROTOKOL"
                bold:True
                color:0,0,0,1
                font_size:self.height/1.5
                size_hint:1,.2
            GridLayout
                spacing:dp(2)
                padding:dp(5)
                cols:3
                BtnGridL
                    alpa:slot1.alpa
                    text:"1"
                    on_release:
                        root.load(self.alpa,self.text)
                        pop_load.ilang=10
                    
                BtnGridL
                    alpa:slot2.alpa
                    text:"2"
                    on_release:
                        root.load(self.alpa,self.text)
                        pop_load.ilang=10
                    
                BtnGridL
                    alpa:slot3.alpa
                    text:"3"
                    on_release:
                        root.load(self.alpa,self.text)
                        pop_load.ilang=10
                    
                BtnGridL
                    alpa:slot4.alpa
                    text:"4"
                    on_release:
                        root.load(self.alpa,self.text)
                        pop_load.ilang=10
                    
                BtnGridL
                    alpa:slot5.alpa
                    text:"5"
                    on_release:
                        root.load(self.alpa,self.text)
                        pop_load.ilang=10
                    
                BtnGridL
                    alpa:slot6.alpa
                    text:"6"
                    on_release:
                        root.load(self.alpa,self.text)
                        pop_load.ilang=10
                

        
